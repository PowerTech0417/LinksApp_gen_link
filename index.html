<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ”— APPä¸‹è½½é“¾æ¥ç”Ÿæˆå™¨</title>
<style>
  body {
    font-family: system-ui, sans-serif;
    background: radial-gradient(circle at top, #0a0f1c, #000);
    color: #fff;
    text-align: center;
    padding: 2em;
  }

  h1 {
    margin-bottom: 1.5em;
    color: #ff4757;
  }

  .card {
    background: rgba(255, 255, 255, 0.08);
    padding: 1.5em;
    border-radius: 1em;
    box-shadow: 0 0 15px rgba(255,255,255,0.1);
    display: inline-block;
    width: 100%;
    max-width: 420px;
  }

  input, select {
    width: 100%;
    padding: 0.8em;
    margin: 0.5em 0;
    border-radius: 0.5em;
    border: none;
    font-size: 1em;
    outline: none;
  }

  button {
    width: 48%;
    padding: 0.8em;
    margin: 0.5em 1%;
    border: none;
    border-radius: 0.5em;
    font-size: 1em;
    color: #fff;
    cursor: pointer;
    transition: 0.2s;
  }

  .generate {
    background: #e74c3c; /* çº¢è‰²æŒ‰é’® */
  }
  .generate:hover {
    background: #ff6b6b;
  }

  .copy {
    background: #00bcd4; /* é’è‰²æŒ‰é’® */
  }
  .copy:hover {
    background: #26d8e8;
  }

  .result-box {
    background: rgba(255, 255, 255, 0.15);
    border-radius: 0.8em;
    padding: 1em;
    margin-top: 1em;
    word-break: break-all;
    color: #fff;
  }

  footer {
    margin-top: 2em;
    opacity: 0.7;
    font-size: 0.9em;
  }
</style>
</head>
<body>
  <h1>ğŸ”—APPä¸‹è½½é“¾æ¥ç”Ÿæˆå™¨</h1>

  <div class="card">
    <input id="longURL" type="url" placeholder="è¯·è¾“å…¥è¦ç¼©çŸ­çš„é“¾æ¥ï¼ˆlongURLï¼‰" />
    <input id="uid" placeholder="ç”¨æˆ·ID (å¯é€‰)" />
    <select id="version">
      <option value="">é€‰æ‹©ç‰ˆæœ¬å·</option>
      <option value="1.0">v1.0</option>
      <option value="1.1">v1.1</option>
      <option value="2.0">v2.0</option>
      <option value="3.0">v3.0</option>
      <option value="4.0">v4.0</option>
      <option value="5.0">v5.0</option>
      <option value="6.0">v6.0</option>
      <option value="7.0">v7.0</option>
      <option value="8.0">v8.0</option>
      <option value="9.0">v9.0</option>
      <option value="10.0">v10.0</option>
    </select>

    <button class="generate" onclick="generateLink()">ç”ŸæˆçŸ­é“¾æ¥</button>
    <button class="copy" onclick="copyLink()">å¤åˆ¶çŸ­é“¾æ¥</button>

    <div id="result" class="result-box" style="display:none;"></div>
  </div>

  <footer>Â© 2025 çŸ­é“¾æ¥ç³»ç»Ÿ | Powered by Short.io API</footer>

  <script>
    async function generateLink() {
      const longURL = document.getElementById("longURL").value.trim();
      const uid = document.getElementById("uid").value.trim();
      const version = document.getElementById("version").value;

      if (!longURL) {
        alert("âŒ è¯·è¾“å…¥è¦ç¼©çŸ­çš„é“¾æ¥ï¼");
        return;
      }

      const resultBox = document.getElementById("result");
      resultBox.style.display = "block";
      resultBox.innerText = "â³ æ­£åœ¨ç”ŸæˆçŸ­é“¾æ¥...";

      try {
        const response = await fetch("https://cn.shortlink-931.workers.dev/", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ longURL, uid, version })
        });

        const data = await response.json();
        if (data.shortURL) {
          resultBox.innerHTML = `âœ… ç”ŸæˆæˆåŠŸï¼š<br><a href="${data.shortURL}" target="_blank" style="color:#fff;">${data.shortURL}</a>`;
          resultBox.dataset.link = data.shortURL;
        } else {
          resultBox.innerHTML = `âŒ ç”Ÿæˆå¤±è´¥ï¼š${data.error || "æœªçŸ¥é”™è¯¯"}`;
        }
      } catch (err) {
        resultBox.innerHTML = `âŒ ç½‘ç»œé”™è¯¯ï¼š${err.message}`;
      }
    }

    function copyLink() {
      const resultBox = document.getElementById("result");
      const link = resultBox.dataset.link;
      if (!link) {
        alert("æ²¡æœ‰å¯å¤åˆ¶çš„é“¾æ¥ï¼");
        return;
      }
      navigator.clipboard.writeText(link);
      alert("âœ… å·²å¤åˆ¶çŸ­é“¾æ¥ï¼");
    }
  </script>
</body>
</html>
